{% extends "layout.html" %}
{% block content %}

<style>

    .tickets-title {
        font-size: 26px;
        font-weight: 700;
        color: #2d3748;
        margin-bottom: 20px;
    }

    /* Card Container */
    .tickets-card {
        border-radius: 14px;
        background: #ffffff;
        padding: 25px;
        border: 1px solid #e5e7eb;
        box-shadow: 0 3px 10px rgba(0,0,0,0.05);
    }

    /* Table Styling */
    table {
        width: 100%;
    }

    thead th {
        background: #f8fafc;           /* soft clean gray */
        color: #475569;
        font-size: 14px;
        font-weight: 600;
        padding: 14px;
        border-bottom: 1px solid #e2e8f0 !important;
    }

    tbody td {
        padding: 14px;
        color: #334155;
        font-size: 14px;
        vertical-align: middle;
        border-bottom: 1px solid #f1f5f9;
    }

    tbody tr:hover {
        background: #f1f5f9;
        transition: 0.2s ease-in-out;
    }

    /* Priority Badges (Minimal Design) */
    .priority-badge {
        padding: 5px 10px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
        display: inline-block;
    }

    .priority-1 { background: #e0f2fe; color: #0369a1; }  /* Low */
    .priority-2 { background: #fef9c3; color: #854d0e; }  /* Medium */
    .priority-3 { background: #fee2e2; color: #b91c1c; }  /* High */
    .priority-4 { background: #ffe4e6; color: #be123c; }  /* Urgent */

    /* Status Badges */
    .status-badge {
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
    }

    .status-2 { background: #dbeafe; color: #1d4ed8; }   /* Open */
    .status-3 { background: #fef3c7; color: #b45309; }   /* Pending */
    .status-4 { background: #dcfce7; color: #15803d; }   /* Resolved */
    .status-5 { background: #e2e8f0; color: #475569; }   /* Closed */

    /* Button */
    .create-btn {
        padding: 10px 26px;
        font-size: 15px;
        border-radius: 8px;
        font-weight: 600;
        margin-top: 20px;
    }

</style>

<!-- =================== Title =================== -->
<h2 class="tickets-title">All Tickets</h2>

<!-- =================== Table Card =================== -->
<div class="tickets-card">

    <table class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Subject</th>
                <th>Priority</th>
                <th>Status</th>
            </tr>
        </thead>

        <tbody>
            {% for ticket in tickets %}
            <tr>
                <td><strong>#{{ ticket.id }}</strong></td>
                <td>{{ ticket.subject }}</td>

                <td>
                    <span class="priority-badge priority-{{ ticket.priority }}">
                        {% if ticket.priority == 1 %} Low
                        {% elif ticket.priority == 2 %} Medium
                        {% elif ticket.priority == 3 %} High
                        {% elif ticket.priority == 4 %} Urgent
                        {% endif %}
                    </span>
                </td>

                <td>
                    <span class="status-badge status-{{ ticket.status }}">
                        {% if ticket.status == 2 %} Open
                        {% elif ticket.status == 3 %} Pending
                        {% elif ticket.status == 4 %} Resolved
                        {% elif ticket.status == 5 %} Closed
                        {% endif %}
                    </span>
                </td>

            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="text-center">
        <a href="/create" class="btn btn-primary create-btn">
            + Create Ticket
        </a>
    </div>

</div>

{% endblock %}
